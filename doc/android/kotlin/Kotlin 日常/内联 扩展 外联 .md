扩展函数：

添加类去执行扩展方法

```kotlin
fun Animal.eat(eat: () -> Unit) {
    eat.invoke()
}

val Animal.name: String
    get() {
        return "熊猫"
    }
```

```
public final class Unit13Kt {
    public static final void runSomething(@NotNull String param, @NotNull Function0<Unit> run) {
        Intrinsics.checkParameterIsNotNull(param, "param");
        Intrinsics.checkParameterIsNotNull(run, "run");
        System.out.println("param:" + param);
        run.invoke();
    }

    public static final void main(@NotNull String[] args) {
        Intrinsics.checkParameterIsNotNull(args, "args");
        //第二个参数是main.1.INSTANCE对象
        runSomething("param1", main.1.INSTANCE);
    }

}

//kotlin自动生成的一个类
final class Unit13Kt$main$1 extends Lambda implements Function0<Unit> {
    //这里是runSomething方法用到的第二个参数
    public static final Unit13Kt$main$1 INSTANCE = new Unit13Kt$main$1();

    Unit13Kt$main$1() {
        super(0);
    }
    
    public final void invoke() {
        System.out.println("我是高阶函数的第二个参数");
    }

}
```

内联函数：
inline  直接替换进入指定的执行地方  减少了对象的创建

```
inline fun runSomething(param: String, run: () -> Unit) {
    println("param:$param")
    run.invoke()
}
复制代码我们主要来看下inline下生成的反编译代码:
public final class Unit13Kt {
    public static final void runSomething(@NotNull String param, @NotNull Function0<Unit> run) {
        Intrinsics.checkParameterIsNotNull(param, "param");
        Intrinsics.checkParameterIsNotNull(run, "run");
        System.out.println("param:" + param);
        run.invoke();
    }

    public static final void main(@NotNull String[] args) {
        Intrinsics.checkParameterIsNotNull(args, "args");
        System.out.println("param:" + "param1");
        System.out.println("我是高阶函数的第二个参数");
    }
}
```

内联函数有一个问题是：
1：不能作为具体的参数来执行

2：不能return result

所以可以使用online来修饰，使其具有参数性质



外联函数

online

- noinline:是和inline对立的，但是需要和inline函数搭配使用，如果定义成noinline的表达式，则会产生对象，一般需要通过该对象操作某些逻辑而不得定义成noinline类型的lambda表达式，如上面的可空的lambda表达式。

crossinlinle

- crossinline:用在不能直接return外层的方法，而只能return当前方法。因为return当前方法的话，相当于不执行该表达式，一般用在某些条件下不执行该表达式的情况。